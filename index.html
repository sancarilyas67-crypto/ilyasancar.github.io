<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Portf√∂y Y√∂netimi</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <!-- Auth Modal -->
  <div id="authOverlay" class="auth-overlay">
    <div class="auth-container">
      <div class="auth-logo">üîê Portf√∂y Y√∂netimi</div>
      <form id="authForm">
        <input type="password" id="authPassword" placeholder="≈ûifre" required>
        <button type="submit" class="btn-primary">Giri≈ü Yap</button>
      </form>
      <div id="authError" class="auth-error"></div>
      <div id="authAttempts" class="auth-attempts"></div>
    </div>
  </div>

  <!-- Main App -->
  <div id="mainApp" class="main-app hidden">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <h1>üìä Portf√∂y</h1>
        <button class="hamburger" id="hamburger">‚ò∞</button>
      </div>
      
      <nav class="sidebar-nav">
        <button class="nav-btn active" data-tab="overview">√ñzet</button>
        <button class="nav-btn" data-tab="debts">Bor√ßlar</button>
        <button class="nav-btn" data-tab="savings">Birikimler</button>
        <button class="nav-btn" data-tab="currencies">Para Birimleri</button>
      </nav>

      <div class="sidebar-footer">
        <button id="logoutBtn" class="btn-danger">√áƒ±kƒ±≈ü Yap</button>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Header -->
      <header class="header">
        <div class="header-left">
          <h2 id="currentMonth">Ocak 2024</h2>
        </div>
        <div class="header-right">
          <button id="addMonthBtn" class="btn-sm">+ Ay Ekle</button>
          <select id="monthSelect" class="month-select">
            <option>Ay se√ßin</option>
          </select>
        </div>
      </header>

      <!-- Overview Tab -->
      <section id="overviewTab" class="tab-content active">
        <div class="summary-cards">
          <div class="card">
            <div class="card-label">A√ßƒ±lƒ±≈ü Bakiyesi</div>
            <div class="card-value" id="openingBalance">‚Ç∫0,00</div>
          </div>
          <div class="card">
            <div class="card-label">Toplam Gelir</div>
            <div class="card-value income" id="totalIncome">‚Ç∫0,00</div>
          </div>
          <div class="card">
            <div class="card-label">Toplam Gider</div>
            <div class="card-value expense" id="totalExpense">‚Ç∫0,00</div>
          </div>
          <div class="card">
            <div class="card-label">Kapanƒ±≈ü Bakiyesi</div>
            <div class="card-value" id="closingBalance">‚Ç∫0,00</div>
          </div>
        </div>

        <div class="transactions-container">
          <div class="transactions-section">
            <div class="section-header">
              <h3>Gelir Hareketleri</h3>
              <button class="btn-sm" id="addIncomeBtn">+ Ekle</button>
            </div>
            <table id="incomeTable" class="transactions-table">
              <thead>
                <tr>
                  <th>A√ßƒ±klama</th>
                  <th>Kategori</th>
                  <th>Tutar</th>
                  <th>Tarih</th>
                  <th>ƒ∞≈ülem</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>

          <div class="transactions-section">
            <div class="section-header">
              <h3>Gider Hareketleri</h3>
              <button class="btn-sm" id="addExpenseBtn">+ Ekle</button>
            </div>
            <table id="expenseTable" class="transactions-table">
              <thead>
                <tr>
                  <th>A√ßƒ±klama</th>
                  <th>Kategori</th>
                  <th>Tutar</th>
                  <th>Tarih</th>
                  <th>ƒ∞≈ülem</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </div>

        <!-- Recurring Payments Section -->
        <div class="recurring-section">
          <div class="section-header">
            <h3>D√ºzenli √ñdemeler</h3>
            <button class="btn-sm" id="addRecurringBtn">+ Ekle</button>
          </div>
          <table id="recurringTable" class="transactions-table">
            <thead>
              <tr>
                <th>Ad</th>
                <th>Tutar</th>
                <th>Tip</th>
                <th>Kategori</th>
                <th>Durum</th>
                <th>ƒ∞≈ülem</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </section>

      <!-- Debts Tab -->
      <section id="debtsTab" class="tab-content">
        <div class="section-header">
          <h3>Bor√ßlar</h3>
          <button class="btn-sm" id="addDebtBtn">+ Bor√ß Ekle</button>
        </div>
        <div class="debts-grid" id="debtsGrid"></div>
      </section>

      <!-- Savings Tab -->
      <section id="savingsTab" class="tab-content">
        <div class="section-header">
          <h3>Birikimler</h3>
          <button class="btn-sm" id="addSavingBtn">+ Birikim Ekle</button>
        </div>
        <table id="savingsTable" class="transactions-table">
          <thead>
            <tr>
              <th>Para Birimi</th>
              <th>Birim Miktar</th>
              <th>Alƒ±≈ü Kuru</th>
              <th>TL Tutarƒ±</th>
              <th>Tarih</th>
              <th>ƒ∞≈ülem</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </section>

      <!-- Currencies Tab -->
      <section id="currenciesTab" class="tab-content">
        <div id="currenciesContent">
          <!-- Currency rates will be loaded here -->
        </div>
      </section>
    </main>
  </div>

  <!-- Transaction Modal -->
  <div id="transactionModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="transactionModalTitle">ƒ∞≈ülem Ekle</h3>
        <button class="modal-close">&times;</button>
      </div>
      <form id="transactionForm">
        <input type="hidden" id="transactionId">
        <input type="hidden" id="monthId">
        
        <div class="form-group">
          <label>A√ßƒ±klama</label>
          <input type="text" id="transDesc" required>
        </div>

        <div class="form-group">
          <label>Tutar</label>
          <input type="number" id="transAmount" step="0.01" required>
        </div>

        <div class="form-group">
          <label>Kategori</label>
          <select id="transCategory" required>
            <option value="">Se√ßin</option>
          </select>
        </div>

        <div class="form-group">
          <label>Tarih</label>
          <input type="date" id="transDate" required>
        </div>

        <div class="form-actions">
          <button type="submit" class="btn-primary">Kaydet</button>
          <button type="button" class="btn-secondary modal-close">ƒ∞ptal</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Debt Modal -->
  <div id="debtModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Bor√ß Ekle</h3>
        <button class="modal-close">&times;</button>
      </div>
      <form id="debtForm">
        <input type="hidden" id="debtId">
        
        <div class="form-group">
          <label>Bor√ß Adƒ±</label>
          <input type="text" id="debtName" required>
        </div>

        <div class="form-group">
          <label>Toplam Tutar</label>
          <input type="number" id="debtAmount" step="0.01" required>
        </div>

        <div class="form-group">
          <label>Para Birimi</label>
          <select id="debtCurrency">
            <option value="TRY">T√ºrk Lirasƒ± (‚Ç∫)</option>
            <option value="USD">Dolar ($)</option>
            <option value="EUR">Euro (‚Ç¨)</option>
            <option value="GRAM">Gram Altƒ±n</option>
          </select>
        </div>

        <div class="form-group">
          <label>
            <input type="checkbox" id="debtIsCredit">
            Kredi (Taksitli)?
          </label>
        </div>

        <div id="creditFields" class="hidden">
          <div class="form-group">
            <label>Toplam Taksit</label>
            <input type="number" id="debtTotalInstallments" min="1">
          </div>

          <div class="form-group">
            <label>Taksit Tutarƒ±</label>
            <input type="number" id="debtInstallmentAmount" step="0.01">
          </div>
        </div>

        <div class="form-actions">
          <button type="submit" class="btn-primary">Kaydet</button>
          <button type="button" class="btn-secondary modal-close">ƒ∞ptal</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Recurring Modal -->
  <div id="recurringModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>D√ºzenli √ñdeme Ekle</h3>
        <button class="modal-close">&times;</button>
      </div>
      <form id="recurringForm">
        <input type="hidden" id="recurringId">
        
        <div class="form-group">
          <label>Ad</label>
          <input type="text" id="recurringName" required>
        </div>

        <div class="form-group">
          <label>Tutar</label>
          <input type="number" id="recurringAmount" step="0.01" required>
        </div>

        <div class="form-group">
          <label>Tip</label>
          <select id="recurringType" required>
            <option value="gelir">Gelir</option>
            <option value="gider">Gider</option>
          </select>
        </div>

        <div class="form-group">
          <label>Kategori</label>
          <select id="recurringCategory" required>
            <option value="">Se√ßin</option>
          </select>
        </div>

        <div class="form-group">
          <label>Ay G√ºn√º</label>
          <input type="number" id="recurringDay" min="1" max="31" value="1">
        </div>

        <div class="form-group">
          <label>
            <input type="checkbox" id="recurringActive" checked>
            Aktif?
          </label>
        </div>

        <div class="form-actions">
          <button type="submit" class="btn-primary">Kaydet</button>
          <button type="button" class="btn-secondary modal-close">ƒ∞ptal</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Saving Modal -->
  <div id="savingModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Birikim Ekle</h3>
        <button class="modal-close">&times;</button>
      </div>
      <form id="savingForm">
        <input type="hidden" id="savingId">
        
        <div class="form-group">
          <label>Para Birimi</label>
          <select id="savingCurrency" required>
            <option value="USD">Dolar ($)</option>
            <option value="EUR">Euro (‚Ç¨)</option>
            <option value="GRAM">Gram Altƒ±n</option>
          </select>
        </div>

        <div class="form-group">
          <label>Birim Miktar</label>
          <input type="number" id="savingUnitAmount" step="0.01" required>
        </div>

        <div class="form-group">
          <label>Alƒ±≈ü Kuru (TL)</label>
          <input type="number" id="savingRate" step="0.01" required>
        </div>

        <div class="form-actions">
          <button type="submit" class="btn-primary">Kaydet</button>
          <button type="button" class="btn-secondary modal-close">ƒ∞ptal</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Month Modal -->
  <div id="monthModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Ay Ekle</h3>
        <button class="modal-close">&times;</button>
      </div>
      <form id="monthForm">
        <div class="form-group">
          <label>Ay Adƒ±</label>
          <input type="text" id="monthName" placeholder="Ocak 2024" required>
        </div>

        <div class="form-group">
          <label>Yƒ±l</label>
          <input type="number" id="monthYear" min="2020" max="2050" required>
        </div>

        <div class="form-group">
          <label>A√ßƒ±lƒ±≈ü Bakiyesi</label>
          <input type="number" id="monthOpeningBalance" step="0.01" value="0">
        </div>

        <div class="form-actions">
          <button type="submit" class="btn-primary">Olu≈ütur</button>
          <button type="button" class="btn-secondary modal-close">ƒ∞ptal</button>
        </div>
      </form>
    </div>
  </div>

  <script src="js/app.js"></script>
</body>
</html>